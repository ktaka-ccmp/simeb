<HTML>
<HEAD><TITLE>./kdoc/simeb-h</TITLE></HEAD>
<BODY BGCOLOR="#ffffff">
<PRE>#ifndef _SIMEB
#define _SIMEB

#include &lt;iostream.h&gt;
#include &lt;iomanip.h&gt;
#include &lt;string.h&gt;
#include &lt;math.h&gt;
#include &lt;time.h&gt;
#include &lt;signal.h&gt;
#include &lt;unistd.h&gt;
#include &lt;sys/stat.h&gt;
#include &lt;fstream.h&gt;
#include &lt;ctype.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;limits.h&gt;
#include &lt;stdio.h&gt; // by ktaka 11/04/99 

#define ASSERT(x) if(!(x)) {fprintf(stderr, &quot;Assertion Failed! %s line %d iteration %d\n&quot;, __FILE__, __LINE__, iIteration); exit(0);}

#define MAX_TOKEN  128

class <a href="TShape.html">TShape</a>;
class <a href="TIllumin.html">TIllumin</a>;
class <a href="TPlane.html">TPlane</a>;
class <a href="TSource.html">TSource</a>;
class <a href="Particle.html">Particle</a>;

#include &quot;include.h&quot;
#include &quot;vector.h&quot;
#include &quot;cap.h&quot;
#include &quot;setup.h&quot;

class <a href="SimEB.html">SimEB</a>
{
private:
  static real const rSmall;
  static real const rCoulomb;

  static char sRoot[MAX_TOKEN];
  static char sName[MAX_TOKEN];

  static real rQ;
  static real rM;
  static real rQM;
  static real rScaleFactor;

  static real rEpsilon;
  static int  iSphere;

  static int  iHalt;

  static FILE * fpProgress;

  static Particle * ParticleDatabase;
  static Particle ** ParticleArray;
  static Particle ** ParticleHeap;

  inline static void Iteration(void);

  inline static void Commit(Particle * const, Particle * const);
  inline static void CommitMirror(Particle * const, Particle * const);
  inline static bool Attempt(Particle * const, Particle * const);
  inline static void Catchup(
    Particle * const p, Particle * const q,
    TXYZ & xyz_dp, TXYZ & xyz_dv);

  inline static real Integrate(TXYZ const &, TXYZ const &, real const, real &);
  inline static void Integrate(TXYZ &, TXYZ &, real const);

  inline static void Kill(Particle * const);
  inline static void HeapFilterUp(Particle * const);
  inline static void HeapFilterDown(Particle * const);
  inline static void ArrayDelete(Particle * const);

public:
  static real const rQ0;
  static real const rM0;
  static real const rM1;
  static real const rE0;

  static int iIteration;
  static int iNumGenerated;
  static int iNumActivated;
  static int iNumKilled;

  const static char * sGetRoot(void)        {return sRoot;};
  const static char * sGetName(void)        {return sName;};

  const static real rGetQ(void)             {return rQ;};
  const static real rGetQM(void)            {return rQM;};
  const static real rGetScaleFactor(void)   {return rScaleFactor;};

  const static real rGetEpsilon(void)       {return rEpsilon;}
  const static int  iGetSphere(void)        {return iSphere;};

  static void sSetName(char const * const s_name) {
    strcpy(sRoot, s_name);
    strcpy(sName, s_name);
  };
  static void sExtName(char const * const s_ext) {strcat(sName, s_ext);};

  static void rSetQM(real r_q, real r_m);

  static void InitProgress(void);
  static void PollProgress(int);
  static void KillProgress(void);
  static void Halt(void);

  static void Setup(int, char const * const[]);
  static void Parse(TParser &, char *);
  static void Initialize(void);
  static void Simulate(void);
  static void Finalize(void);
};

inline void SimEB::rSetQM(real r_q, real r_m)
{
  rQ = r_q;
  rM = r_m;
  rQM = r_q / r_m;
  rScaleFactor = rCoulomb * rQ*rQ/rM;
};

#include &quot;relativity.h&quot;
#include &quot;shape.h&quot;
#include &quot;illumin.h&quot;
#include &quot;plane.h&quot;
#include &quot;source.h&quot;
#include &quot;column.h&quot;
#include &quot;particle.h&quot;

#endif // SIMEB








</PRE>
<HR>
<address>Documentation generated by ktaka@junko on Thu Dec 16 18:04:15 PST 1999
</address>
</BODY>
</HTML>
